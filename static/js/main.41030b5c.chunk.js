(this["webpackJsonptrack-mail-2019-user-exam-2"]=this["webpackJsonptrack-mail-2019-user-exam-2"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"translate",(function(){return v}));var r=a(0),o=a.n(r),l=a(3),c=a.n(l);a(13),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(14),a(15);var u=a(4),i=a(5),s=a(1),h=a(7),d=a(6);var m=function(e){return encodeURIComponent(e)},p={};function v(e,t,a){var n=m(e),r=m(t),o=function(e){return p[e]}(n);if(o&&o[0]===r)return console.log("Cached result:"),console.log(o[1]),o[1];var l="".concat("https://translate.yandex.net/api/v1.5/tr.json/translate","?key=").concat("trnsl.1.1.20200503T044336Z.0e5c077f9924453a.30e692f12ef30f7f54078843a78340b592f7e104","&text=").concat(n,"&lang=").concat(r,"&options=1");return fetch(l).then((function(e){if(!e.ok)throw new Error("Error: Network response not ok");if(200===e.status)return e.json();throw new Error("Wrong status code of API response: ".concat(e.status))})).then((function(e){return function(e,t,a){var n=[t,a];p[e]=n}(n,r,e),console.log(e),a&&a(e),e})).catch((function(e){return console.log("Error on fetching translation: ".concat(e))}))}var g=n,f=function(e){var t=e.source,a=e.target,n=e.handleSource,r=e.handleTarget;return o.a.createElement("div",{className:"lang-div"},o.a.createElement("p",{className:"top-text"},"Source language:"),o.a.createElement("p",null,t),o.a.createElement("select",{id:"source",onChange:n},o.a.createElement("option",{value:"??"},"Auto-detect"),o.a.createElement("option",{value:"en"},"English"),o.a.createElement("option",{value:"de"},"German"),o.a.createElement("option",{value:"ru"},"Russian"),o.a.createElement("option",{value:"fr"},"French"),o.a.createElement("option",{value:"sp"},"Spanish"),o.a.createElement("option",{value:"it"},"Italian")),o.a.createElement("p",{className:"top-text"},"Target language:"),o.a.createElement("p",null,a),o.a.createElement("select",{id:"target",onChange:r},o.a.createElement("option",{value:"en"},"English"),o.a.createElement("option",{value:"de"},"German"),o.a.createElement("option",{value:"ru"},"Russian"),o.a.createElement("option",{value:"fr"},"French"),o.a.createElement("option",{value:"sp"},"Spanish"),o.a.createElement("option",{value:"it"},"Italian")))},E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={input:"",output:"",target:"en",source:"??",detected:""},n.setResult=n.setResult.bind(Object(s.a)(n)),n.handleChange=n.handleChange.bind(Object(s.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(s.a)(n)),n.handleSource=n.handleSource.bind(Object(s.a)(n)),n.handleTarget=n.handleTarget.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"setResult",value:function(e){this.setState({output:e.text[0],detected:e.detected.lang})}},{key:"handleSource",value:function(e){var t=e.target;this.setState({source:t.value})}},{key:"handleTarget",value:function(e){var t=e.target;this.setState({target:t.value})}},{key:"handleChange",value:function(e){this.setState({input:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.input,n=t.source,r=t.target;if(""!==a){var o;o="??"===n?r:"".concat(n,"-").concat(r);var l=g.translate(a,o,this.setResult);!l||l instanceof Promise||this.setResult(l)}}},{key:"render",value:function(){var e=this.state,t=e.target,a=e.source,n=e.input,r=e.output,l=e.detected;return o.a.createElement("div",{className:"upper-div"},o.a.createElement(f,{target:t,source:a,handleTarget:this.handleTarget,handleSource:this.handleSource}),o.a.createElement("div",{className:"text-row"},o.a.createElement("textarea",{rows:20,className:"text-field input-field",onChange:this.handleChange,value:n,placeholder:"Input text to be translated"}),o.a.createElement("textarea",{rows:20,className:"text-field output-field",value:r,placeholder:"Translation"})),o.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Translate!"),o.a.createElement("p",null,""!==l?"Detected language: ".concat(l):""))}}]),a}(o.a.Component);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.41030b5c.chunk.js.map